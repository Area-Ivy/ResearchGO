# ResearchGO

> åŸºäºå¾®æœåŠ¡æ¶æ„çš„ AI å­¦æœ¯ç ”ç©¶åŠ©æ‰‹ï¼Œé›†æˆ LangGraph æ™ºèƒ½ä½“ã€RAG æ··åˆæ£€ç´¢ã€è®ºæ–‡ç®¡ç†ä¸åˆ†æç­‰åŠŸèƒ½ã€‚

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

### ğŸ¤– AI æ™ºèƒ½ä½“ (LangGraph Agent)
- åŸºäº **LangGraph** æ„å»ºçš„ç ”ç©¶åŠ©æ‰‹æ™ºèƒ½ä½“ï¼Œæ”¯æŒå¤šæ­¥æ¨ç†ä¸å·¥å…·è°ƒç”¨
- **ä¸‰å±‚è®°å¿†æ¶æ„**ï¼šçŸ­æœŸæ»‘åŠ¨çª—å£ â†’ é•¿å¯¹è¯è‡ªåŠ¨æ‘˜è¦ â†’ è·¨ä¼šè¯è¯­ä¹‰è®°å¿†
- **Redis Checkpointer** æŒä¹…åŒ–å¯¹è¯çŠ¶æ€ï¼Œæ”¯æŒæ–­ç‚¹æ¢å¤
- **ç†”æ–­é™çº§æœºåˆ¶**ï¼šå·¥å…·æ•…éšœæ—¶è‡ªåŠ¨åˆ‡æ¢æ›¿ä»£æ–¹æ¡ˆï¼Œä¿è¯æœåŠ¡å¯ç”¨æ€§
- **SSE æµå¼è¾“å‡º**ï¼šå®æ—¶æ¨é€ AI æ€è€ƒè¿‡ç¨‹ä¸å·¥å…·è°ƒç”¨çŠ¶æ€

### ğŸ”¬ RAG æ··åˆæ£€ç´¢
- **Dense + Sparse åŒè·¯å¬å›**ï¼šOpenAI Embedding å‘é‡æ£€ç´¢ + BM25 ç¨€ç–æ£€ç´¢
- **RRF (Reciprocal Rank Fusion)** èåˆæ’åº
- **Reranker é‡æ’åº**ï¼šäºŒæ¬¡ç²¾æ’æå‡ç»“æœè´¨é‡
- **è·¨è¯­è¨€æŸ¥è¯¢ç¿»è¯‘**ï¼šä¸­æ–‡æŸ¥è¯¢è‡ªåŠ¨ç¿»è¯‘ä¸ºè‹±æ–‡ï¼Œæå‡è‹±æ–‡è®ºæ–‡æ£€ç´¢æ•ˆæœ
- **é€’å½’è¯­ä¹‰åˆ‡åˆ†**ï¼šåŸºäºè®ºæ–‡ç»“æ„ (Abstract/Methods/Results...) çš„æ™ºèƒ½åˆ†å—
- **LLM ç»“æ„åŒ–è§£æ**ï¼šGPT-4o è§£æè®ºæ–‡ç»“æ„ï¼Œä¿ç•™ç« èŠ‚å±‚çº§ä¿¡æ¯

### ğŸ“š è®ºæ–‡ç®¡ç†
- PDF è®ºæ–‡ä¸Šä¼ ä¸äº‘å­˜å‚¨ (MinIO)
- ä¸Šä¼ è‡ªåŠ¨è§¦å‘å‘é‡ç´¢å¼•ï¼ˆåå°å¼‚æ­¥ï¼‰
- è®ºæ–‡å†…å®¹é—®ç­” (Paper QA)
- AI è®ºæ–‡åˆ†ææŠ¥å‘Šç”Ÿæˆ
- æ€ç»´å¯¼å›¾è‡ªåŠ¨ç”Ÿæˆ (Markmap)
- å¤šè®ºæ–‡å¯¹æ¯”åˆ†æ

### ğŸ” å­¦æœ¯æ–‡çŒ®æ£€ç´¢
- å¯¹æ¥ **OpenAlex** æ•°æ®åº“ï¼Œè¦†ç›– 2.5 äº¿+ å­¦æœ¯è®ºæ–‡
- å¤šç»´åº¦ç­›é€‰ï¼šå¹´ä»½ã€å¼•ç”¨æ•°ã€å¼€æ”¾è·å–çŠ¶æ€ç­‰
- AI æ‘˜è¦ç”Ÿæˆï¼ˆä¸­/è‹±æ–‡ï¼‰
- å¼•ç”¨å¯¼å‡ºï¼šBibTeX / RIS / APA / MLA
- ç›¸å…³è®ºæ–‡æ¨è

### ğŸ” ç”¨æˆ·ç³»ç»Ÿ
- JWT è®¤è¯ä¸æˆæƒ
- è·¯ç”±å®ˆå«ä¿æŠ¤
- ç”¨æˆ·æ•°æ®éš”ç¦»

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Frontend (Vue 3 + Vite)                         â”‚
â”‚                        localhost:5173                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Traefik API Gateway (:8080)                        â”‚
â”‚                    è·¯ç”± / CORS / é™æµ / é‡è¯•                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼        â–¼        â–¼      â–¼      â–¼        â–¼        â–¼          â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Agent   â”‚â”‚ Auth  â”‚â”‚ Conv â”‚â”‚Paperâ”‚â”‚Vectorâ”‚â”‚ Lit  â”‚â”‚Mindmapâ”‚â”‚Analysisâ”‚
  â”‚  :8000   â”‚â”‚ :8001 â”‚â”‚ :8002â”‚â”‚:8003â”‚â”‚:8004 â”‚â”‚:8005 â”‚â”‚ :8007 â”‚â”‚ :8008  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚         â”‚        â”‚      â”‚       â”‚        â”‚       â”‚         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼             â–¼           â–¼           â–¼              â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  MySQL   â”‚  â”‚  MinIO   â”‚ â”‚ Milvus â”‚ â”‚  Redis  â”‚  â”‚ RabbitMQ â”‚
  â”‚  :3306   â”‚  â”‚  :9000   â”‚ â”‚ :19530 â”‚ â”‚  :6379  â”‚  â”‚  :5672   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¾®æœåŠ¡æ¸…å•

| æœåŠ¡ | ç«¯å£ | èŒè´£ | æ ¸å¿ƒæŠ€æœ¯ |
|------|------|------|----------|
| **agent-service** | 8000 | AI æ™ºèƒ½ä½“æ ¸å¿ƒï¼Œå·¥å…·ç¼–æ’ä¸å¯¹è¯ | LangGraph, OpenAI, LangChain |
| **auth-service** | 8001 | ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€JWT ç­¾å‘ | JWT, bcrypt, MySQL |
| **conversation-service** | 8002 | å¯¹è¯å†å² CRUD | MySQL |
| **paper-storage-service** | 8003 | è®ºæ–‡ä¸Šä¼ ã€å­˜å‚¨ã€ç»“æ„åŒ–è§£æ | MinIO, pdfplumber, GPT-4o |
| **vector-search-service** | 8004 | è¯­ä¹‰æœç´¢ã€Paper QAã€å‘é‡ç´¢å¼• | Milvus, OpenAI Embedding, BM25 |
| **literature-search-service** | 8005 | å­¦æœ¯æ–‡çŒ®æ£€ç´¢ä¸æ‘˜è¦ | OpenAlex API, OpenAI |
| **mindmap-service** | 8007 | è®ºæ–‡æ€ç»´å¯¼å›¾ç”Ÿæˆ | MinIO, OpenAI |
| **analysis-service** | 8008 | è®ºæ–‡åˆ†ææŠ¥å‘Šã€å¤šè®ºæ–‡å¯¹æ¯” | MinIO, OpenAI |

### åŸºç¡€è®¾æ–½

| ç»„ä»¶ | ç«¯å£ | ç”¨é€” |
|------|------|------|
| **Traefik** | 8080 / 8081 | API ç½‘å…³ & Dashboard |
| **Consul** | 8500 | æœåŠ¡æ³¨å†Œä¸å‘ç°ã€é…ç½®ä¸­å¿ƒ |
| **MySQL 8.0** | 3306 | ç”¨æˆ·ã€å¯¹è¯ã€è®ºæ–‡å…ƒæ•°æ®å­˜å‚¨ |
| **MinIO** | 9000 / 9001 | PDF æ–‡ä»¶å¯¹è±¡å­˜å‚¨ |
| **Milvus 2.3.3** | 19530 | å‘é‡æ•°æ®åº“ |
| **Attu** | 9002 | Milvus å¯è§†åŒ–ç®¡ç† |
| **Redis 7** | 6379 | Agent è®°å¿†ç³»ç»Ÿã€ç¼“å­˜ |
| **RabbitMQ** | 5672 / 15672 | æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆäº‹ä»¶é©±åŠ¨ï¼‰ |
| **etcd** | - | Milvus å…ƒæ•°æ®å­˜å‚¨ |

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| Vue 3 (Composition API) | å‰ç«¯æ¡†æ¶ |
| Vite 5 | æ„å»ºå·¥å…· |
| Vue Router 4 | è·¯ç”±ç®¡ç† |
| Axios | HTTP å®¢æˆ·ç«¯ |
| ECharts / Chart.js | æ•°æ®å¯è§†åŒ– |
| Markmap | æ€ç»´å¯¼å›¾æ¸²æŸ“ |
| KaTeX | LaTeX æ•°å­¦å…¬å¼æ¸²æŸ“ |
| Marked + Highlight.js | Markdown æ¸²æŸ“ & ä»£ç é«˜äº® |

### åç«¯
| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| FastAPI | Web æ¡†æ¶ (å…¨éƒ¨å¾®æœåŠ¡) |
| LangGraph + LangChain | AI Agent ç¼–æ’ |
| OpenAI API (GPT-4o) | LLM æ¨ç† & Embedding |
| SQLAlchemy | ORM |
| pymilvus | Milvus å‘é‡æ•°æ®åº“å®¢æˆ·ç«¯ |
| pdfplumber | PDF æ–‡æœ¬æå– |
| python-jose | JWT å¤„ç† |
| SSE-Starlette | Server-Sent Events æµå¼è¾“å‡º |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Docker** & **Docker Compose** (v2.0+)
- **Node.js** 16+
- **Python** 3.9+
- **OpenAI API Key**

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/ResearchGO.git
cd ResearchGO
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
cp env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å†™å¿…è¦é…ç½®ï¼š

```env
# å¿…å¡« - OpenAI
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_BASE_URL=https://api.openai.com/v1    # å¦‚ä½¿ç”¨ä»£ç†å¯ä¿®æ”¹

# å¿…å¡« - å®‰å…¨å¯†é’¥
SECRET_KEY=your-super-secret-key

# å¯é€‰ - æ•°æ®åº“ï¼ˆæœ‰é»˜è®¤å€¼ï¼‰
MYSQL_ROOT_PASSWORD=rootpassword123
MYSQL_DATABASE=researchgo
MYSQL_USER=researchgo_user
MYSQL_PASSWORD=researchgo123

# å¯é€‰ - MinIOï¼ˆæœ‰é»˜è®¤å€¼ï¼‰
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123

# å¯é€‰ - RabbitMQï¼ˆæœ‰é»˜è®¤å€¼ï¼‰
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=admin123
```

### 3. å¯åŠ¨åç«¯æœåŠ¡ï¼ˆDocker Composeï¼‰

```bash
docker-compose up -d
```

ç­‰å¾…æ‰€æœ‰æœåŠ¡å¯åŠ¨å®Œæˆï¼Œæ£€æŸ¥çŠ¶æ€ï¼š

```bash
docker-compose ps
```

ç¡®è®¤ä»¥ä¸‹æœåŠ¡å‡ä¸º `running` çŠ¶æ€ï¼š

| æœåŠ¡ | å®¹å™¨å | è¯´æ˜ |
|------|--------|------|
| âœ… Traefik | researchgo-traefik | API ç½‘å…³ |
| âœ… Consul | researchgo-consul | æœåŠ¡æ³¨å†Œ |
| âœ… Agent | researchgo-agent | AI æ™ºèƒ½ä½“ |
| âœ… Auth | researchgo-auth | è®¤è¯æœåŠ¡ |
| âœ… Conversation | researchgo-conversation | å¯¹è¯æœåŠ¡ |
| âœ… Paper | researchgo-paper | è®ºæ–‡å­˜å‚¨ |
| âœ… Vector | researchgo-vector | å‘é‡æœç´¢ |
| âœ… Literature | researchgo-literature | æ–‡çŒ®æ£€ç´¢ |
| âœ… Mindmap | researchgo-mindmap | æ€ç»´å¯¼å›¾ |
| âœ… Analysis | researchgo-analysis | è®ºæ–‡åˆ†æ |
| âœ… MySQL | researchgo-mysql | æ•°æ®åº“ |
| âœ… MinIO | researchgo-minio | å¯¹è±¡å­˜å‚¨ |
| âœ… Milvus | researchgo-milvus | å‘é‡æ•°æ®åº“ |
| âœ… Redis | researchgo-redis | ç¼“å­˜ |
| âœ… RabbitMQ | researchgo-rabbitmq | æ¶ˆæ¯é˜Ÿåˆ— |

### 4. å¯åŠ¨å‰ç«¯

```bash
cd frontend
npm install
npm run dev
```

### 5. è®¿é—®åº”ç”¨

| åœ°å€ | è¯´æ˜ |
|------|------|
| http://localhost:5173 | å‰ç«¯åº”ç”¨ |
| http://localhost:8080 | API ç½‘å…³å…¥å£ |
| http://localhost:8081 | Traefik Dashboard |
| http://localhost:8500 | Consul UI |
| http://localhost:9001 | MinIO Console |
| http://localhost:9002 | Attu (Milvus ç®¡ç†) |
| http://localhost:15672 | RabbitMQ ç®¡ç†ç•Œé¢ |

> é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼š`admin` / `admin123`

## ğŸ“– åŠŸèƒ½é¡µé¢

| è·¯ç”± | é¡µé¢ | åŠŸèƒ½è¯´æ˜ |
|------|------|----------|
| `/` | Landing | é¡¹ç›®è½åœ°é¡µ |
| `/login` | Login | ç”¨æˆ·ç™»å½•/æ³¨å†Œ |
| `/dashboard` | Dashboard | ç ”ç©¶æ•°æ®çœ‹æ¿ï¼Œæ´»åŠ¨ç»Ÿè®¡ä¸å¯è§†åŒ– |
| `/chat` | Chat | AI å¯¹è¯åŠ©æ‰‹ï¼Œæ”¯æŒå·¥å…·è°ƒç”¨ã€æµå¼è¾“å‡º |
| `/literature` | Literature Search | å­¦æœ¯æ–‡çŒ®æ£€ç´¢ï¼ŒAI æ‘˜è¦ï¼Œå¼•ç”¨å¯¼å‡º |
| `/library` | Paper Library | ä¸ªäººè®ºæ–‡åº“ï¼Œä¸Šä¼  PDFã€è¯­ä¹‰æœç´¢ã€é—®ç­” |
| `/review` | Paper Review | è®ºæ–‡é˜…è¯»ä¸åˆ†æï¼Œæ€ç»´å¯¼å›¾ã€åˆ†ææŠ¥å‘Š |
| `/milvus` | Milvus Manager | å‘é‡é›†åˆç®¡ç†ï¼ˆåŠ è½½/é‡Šæ”¾/ç»Ÿè®¡ï¼‰ |

## ğŸ“ é¡¹ç›®ç»“æ„

```
ResearchGO/
â”œâ”€â”€ frontend/                        # å‰ç«¯åº”ç”¨ (Vue 3)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/                   # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Landing.vue          # è½åœ°é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.vue            # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.vue             # Dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ Chat.vue             # AI å¯¹è¯
â”‚   â”‚   â”‚   â”œâ”€â”€ LiteratureSearch.vue # æ–‡çŒ®æ£€ç´¢
â”‚   â”‚   â”‚   â”œâ”€â”€ PaperLibrary.vue     # è®ºæ–‡åº“
â”‚   â”‚   â”‚   â”œâ”€â”€ PaperReview.vue      # è®ºæ–‡é˜…è¯»
â”‚   â”‚   â”‚   â””â”€â”€ MilvusManager.vue    # å‘é‡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ api/                     # API å®¢æˆ·ç«¯å±‚
â”‚   â”‚   â”œâ”€â”€ router/                  # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ composables/             # ç»„åˆå¼å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ App.vue                  # æ ¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ config.js                # å…¨å±€é…ç½®
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ agent-service/           # AI æ™ºèƒ½ä½“æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ agent/           # LangGraph Agent (çŠ¶æ€å›¾ã€æµå¼å¤„ç†)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tools/           # å·¥å…·é›† (æ–‡çŒ®/è®ºæ–‡/å‘é‡/åˆ†æ)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ memory/          # ä¸‰å±‚è®°å¿†ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ utils/           # ç†”æ–­å™¨ã€è®¤è¯å®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â””â”€â”€ Dockerfile
â”‚   â”‚   â”œâ”€â”€ auth-service/            # è®¤è¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ conversation-service/    # å¯¹è¯ç®¡ç†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ paper-storage-service/   # è®ºæ–‡å­˜å‚¨æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ app/utils/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ paper_structure_parser.py    # LLM ç»“æ„è§£æå™¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ recursive_semantic_chunker.py # é€’å½’è¯­ä¹‰åˆ‡åˆ†å™¨
â”‚   â”‚   â”‚   â””â”€â”€ Dockerfile
â”‚   â”‚   â”œâ”€â”€ vector-search-service/   # å‘é‡æœç´¢æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ app/services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ hybrid_search_service.py     # æ··åˆæ£€ç´¢ (Dense+BM25+RRF+Reranker)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ milvus_service.py            # Milvus å®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ bm25_service.py              # BM25 ç¨€ç–æ£€ç´¢
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ reranker_service.py          # é‡æ’åº
â”‚   â”‚   â”‚   â””â”€â”€ Dockerfile
â”‚   â”‚   â”œâ”€â”€ literature-search-service/  # æ–‡çŒ®æ£€ç´¢æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ mindmap-service/            # æ€ç»´å¯¼å›¾æœåŠ¡
â”‚   â”‚   â””â”€â”€ analysis-service/           # è®ºæ–‡åˆ†ææœåŠ¡
â”‚   â”œâ”€â”€ shared/                      # å…±äº«æ¨¡å— (Consul æ³¨å†Œ)
â”‚   â””â”€â”€ init.sql                     # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚
â”œâ”€â”€ traefik/                         # API ç½‘å…³é…ç½®
â”‚   â”œâ”€â”€ traefik.yml                  # é™æ€é…ç½®
â”‚   â””â”€â”€ dynamic/services.yml         # è·¯ç”±è§„åˆ™ & ä¸­é—´ä»¶
â”‚
â”œâ”€â”€ docker-compose.yml               # å…¨é‡æœåŠ¡ç¼–æ’
â”œâ”€â”€ env.example                      # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ docs/                            # æ–‡æ¡£
    â”œâ”€â”€ RAG_SYSTEM.md                # RAG ç³»ç»Ÿè®¾è®¡æ–‡æ¡£
    â””â”€â”€ SERVICE_DISCOVERY.md         # æœåŠ¡å‘ç°æ–‡æ¡£
```

## ğŸ”Œ API è·¯ç”±

æ‰€æœ‰ API é€šè¿‡ Traefik ç½‘å…³ç»Ÿä¸€ä»£ç† (`http://localhost:8080`)ï¼š

| è·¯å¾„å‰ç¼€ | ç›®æ ‡æœåŠ¡ | è¯´æ˜ |
|----------|---------|------|
| `/api/agent/*` | agent-service | AI å¯¹è¯ (SSE æµå¼) |
| `/api/auth/*` | auth-service | æ³¨å†Œ/ç™»å½•/è®¤è¯ |
| `/api/conversations/*` | conversation-service | å¯¹è¯ CRUD |
| `/api/papers/*` | paper-storage-service | è®ºæ–‡ä¸Šä¼ /ç®¡ç† |
| `/api/vector/*` | vector-search-service | è¯­ä¹‰æœç´¢/Paper QA |
| `/api/milvus/*` | vector-search-service | å‘é‡é›†åˆç®¡ç† |
| `/api/literature/*` | literature-search-service | æ–‡çŒ®æ£€ç´¢ |
| `/api/mindmap/*` | mindmap-service | æ€ç»´å¯¼å›¾ç”Ÿæˆ |
| `/api/analysis/*` | analysis-service | è®ºæ–‡åˆ†æ/å¯¹æ¯” |

å„æœåŠ¡çš„ Swagger æ–‡æ¡£å¯é€šè¿‡ `http://localhost:{port}/docs` è®¿é—®ã€‚

## âš™ï¸ ç¯å¢ƒå˜é‡

| å˜é‡ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `OPENAI_API_KEY` | âœ… | - | OpenAI API å¯†é’¥ |
| `OPENAI_BASE_URL` | âŒ | `https://api.openai.com/v1` | OpenAI API åœ°å€ï¼ˆæ”¯æŒä»£ç†ï¼‰ |
| `OPENAI_MODEL` | âŒ | `gpt-4o` | é»˜è®¤æ¨¡å‹ |
| `SECRET_KEY` | âœ… | - | JWT ç­¾åå¯†é’¥ |
| `MYSQL_ROOT_PASSWORD` | âŒ | `rootpassword123` | MySQL root å¯†ç  |
| `MYSQL_DATABASE` | âŒ | `researchgo` | æ•°æ®åº“å |
| `MYSQL_USER` | âŒ | `researchgo_user` | æ•°æ®åº“ç”¨æˆ· |
| `MYSQL_PASSWORD` | âŒ | `researchgo123` | æ•°æ®åº“å¯†ç  |
| `MINIO_ROOT_USER` | âŒ | `minioadmin` | MinIO ç”¨æˆ·å |
| `MINIO_ROOT_PASSWORD` | âŒ | `minioadmin123` | MinIO å¯†ç  |
| `RABBITMQ_USER` | âŒ | `admin` | RabbitMQ ç”¨æˆ·å |
| `RABBITMQ_PASSWORD` | âŒ | `admin123` | RabbitMQ å¯†ç  |

## ğŸ”§ æœ¬åœ°å¼€å‘

å¦‚æœåªéœ€è¦è¿è¡Œå•ä¸ªå¾®æœåŠ¡è¿›è¡Œå¼€å‘è°ƒè¯•ï¼š

```bash
# 1. å…ˆå¯åŠ¨åŸºç¡€è®¾æ–½
docker-compose up -d consul mysql minio milvus etcd redis rabbitmq attu

# 2. è¿›å…¥ç›®æ ‡æœåŠ¡ç›®å½•
cd backend/services/agent-service

# 3. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
# Windows
.\venv\Scripts\activate
# Linux/Mac
source venv/bin/activate

# 4. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 5. å¯åŠ¨æœåŠ¡
python run.py
```

### å‰ç«¯å¼€å‘

```bash
cd frontend
npm install
npm run dev       # å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (HMR)
npm run build     # ç”Ÿäº§æ„å»º
npm run preview   # é¢„è§ˆç”Ÿäº§æ„å»º
```

## ğŸ› å¸¸è§é—®é¢˜

### æœåŠ¡æ— æ³•å¯åŠ¨
1. ç¡®è®¤ Docker èµ„æºåˆ†é…å……è¶³ï¼ˆå»ºè®® â‰¥ 8GB å†…å­˜ï¼‰
2. æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­ `OPENAI_API_KEY` æ˜¯å¦å·²é…ç½®
3. æ‰§è¡Œ `docker-compose logs <service-name>` æŸ¥çœ‹é”™è¯¯æ—¥å¿—

### AI å¯¹è¯æ— å“åº”
1. è®¿é—® `http://localhost:8080/api/agent/health` æ£€æŸ¥ Agent æœåŠ¡çŠ¶æ€
2. ç¡®è®¤ OpenAI API Key æœ‰æ•ˆä¸”æœ‰ä½™é¢
3. å¦‚ä½¿ç”¨ä»£ç†ï¼Œæ£€æŸ¥ `OPENAI_BASE_URL` æ˜¯å¦æ­£ç¡®

### å‘é‡æœç´¢ä¸å·¥ä½œ
1. ç¡®è®¤ Milvus æœåŠ¡å¥åº·ï¼š`http://localhost:9091/healthz`
2. è®¿é—® Attu (`http://localhost:9002`) æ£€æŸ¥é›†åˆæ˜¯å¦å·²åˆ›å»ºå¹¶åŠ è½½
3. è®ºæ–‡ä¸Šä¼ åéœ€ç­‰å¾…åå°ç´¢å¼•å®Œæˆ

### æ•°æ®åº“è¿æ¥å¤±è´¥
1. ç¡®è®¤ MySQL å®¹å™¨å¥åº·ï¼š`docker-compose ps mysql`
2. æ£€æŸ¥ `init.sql` æ˜¯å¦æ­£ç¡®æ‰§è¡Œï¼š`docker-compose logs mysql`

## ğŸ“„ License

MIT

## ğŸ¤ Contributing

æ¬¢è¿è´¡çŒ®ï¼è¯·æäº¤ Pull Request æˆ–åˆ›å»º Issueã€‚
